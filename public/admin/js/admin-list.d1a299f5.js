(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-list","notice-list"],{"15d1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("公告列表")])]),a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#",width:"40"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"250"}}),a("el-table-column",{attrs:{prop:"create_time",label:"发布日期"}}),a("el-table-column",{attrs:{prop:"update_time",label:"更新日期"}}),a("el-table-column",{attrs:{prop:"is_sticky",label:"是否置顶"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.is_sticky?"success":"info"}},[t._v(t._s(e.row.is_sticky?"置顶":"正常"))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"am-margin-right-sm",attrs:{href:"#/notice/edit/"+e.row.id,type:"primary"}},[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",plain:""}},[t._v("编辑")])],1),a("el-button",{attrs:{type:e.row.is_sticky?"info":"success",icon:e.row.is_sticky?"el-icon-video-pause":"el-icon-upload2",plain:""},on:{click:function(a){return t.handleStick(e.row)}}},[t._v(" "+t._s(e.row.is_sticky?"取消":"置顶")+" ")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:""},on:{click:function(a){return t.handleRemove(e.row.id,e.$index)}}},[t._v(" 删除 ")])]}}])})],1)],1)},r=[],s=a("1da1"),i=(a("a434"),a("96cf"),a("365c")),l=(a("e186"),{name:"List",data:function(){return{tableData:[]}},created:function(){document.title="公告列表",this.loadList()},methods:{loadList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["h"].list();case 2:a=e.sent,n=a.status,r=a.data,n&&(t.tableData=r);case 6:case"end":return e.stop()}}),e)})))()},handleStick:function(t){var e=this,a=t.id,n=t.is_sticky;this.$confirm("此操作将".concat(1===n?"取消置顶":"置顶","该公告，是否继续？"),{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var s,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=1===n?0:1,r.next=3,i["h"].stick({id:a,is_sticky:n});case 3:s=r.sent,l=s.status,c=s.msg,l&&(Object.assign(t,{is_sticky:n}),e.$message.success(c));case 7:case"end":return r.stop()}}),r)})))).catch((function(){e.$message.info("取消成功")}))},handleRemove:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.$confirm("此操作将永久删除该公告, 是否继续?",{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){var r,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["h"].remove({id:t});case 2:r=n.sent,s=r.status,l=r.msg,s&&(a.tableData.splice(e,1),a.$message.success(l));case 6:case"end":return n.stop()}}),n)})))).catch((function(){a.$message.info("取消成功")}));case 1:case"end":return n.stop()}}),n)})))()}}}),c=l,o=a("2877"),u=Object(o["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},e3b7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("管理员列表")])]),a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"fullname",label:"姓名"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),a("el-table-column",{attrs:{prop:"tel",label:"手机"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),a("el-table-column",{attrs:{label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-avatar",{attrs:{shape:"square",src:t.row.avatar}})]}}])}),a("el-table-column",{attrs:{label:"角色"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.role_id?"":"info"}},[t._v(" "+t._s(e.row.role_name||"待分配")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{staticClass:"am-margin-right-sm",attrs:{href:"#/admin/edit/"+e.row.id,type:"primary"}},[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",plain:""}},[t._v("编辑")])],1),a("el-button",{attrs:{disabled:1===e.row.id,type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(a){return t.handleRemove(e.row.id,e.$index)}}},[t._v("删除 ")])]}}])})],1)],1)},r=[],s=a("1da1"),i=(a("a434"),a("96cf"),a("365c")),l=(a("15d1"),{data:function(){return{tableData:[]}},created:function(){document.title="管理员列表",this.loadList()},methods:{loadList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].list();case 2:a=e.sent,n=a.status,r=a.data,n&&(t.tableData=r);case 6:case"end":return e.stop()}}),e)})))()},handleRemove:function(t,e){var a=this;this.$confirm("此操作将永久删除该管理员, 是否继续?",{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){var r,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["a"].remove({id:t});case 2:r=n.sent,s=r.status,l=r.msg,s&&(a.tableData.splice(e,1),a.$message.success(l));case 6:case"end":return n.stop()}}),n)})))).catch((function(){a.$message.info("取消成功")}))}}}),c=l,o=a("2877"),u=Object(o["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=admin-list.d1a299f5.js.map