(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-list"],{a83e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("用户列表")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"#"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),a("el-table-column",{attrs:{prop:"tel",label:"手机",width:"180"}}),a("el-table-column",{attrs:{prop:"usable",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.usable?"success":"info"}},[e._v(" "+e._s(1===t.row.usable?"启用":"禁用")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-switch-button",type:1===t.row.usable?"info":"success",plain:""},on:{click:function(a){return e.handleSwitch(t.row)}}},[e._v(" "+e._s(1===t.row.usable?"禁用":"启用")+" ")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:""},on:{click:function(a){return e.handleRemove(t.row.id,t.$index)}}},[e._v(" 删除 ")])]}}])})],1)],1)},r=[],s=a("1da1"),l=(a("a434"),a("96cf"),a("365c")),c=(a("e186"),{data:function(){return{tableData:[]}},created:function(){document.title="用户列表",this.loadList()},methods:{loadList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["l"].list();case 2:a=t.sent,n=a.status,r=a.data,n&&(e.tableData=r);case 6:case"end":return t.stop()}}),t)})))()},handleRemove:function(e,t){var a=this;this.$confirm("确定要删除此账户吗？",{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["l"].remove({id:e});case 2:r=n.sent,s=r.status,s&&(a.tableData.splice(t,1),a.$message.success("删除成功！"));case 5:case"end":return n.stop()}}),n)})))).catch((function(){a.$message.info("取消成功！")}))},handleSwitch:function(e){var t=this,a=e.id,n=e.usable;this.$confirm("此操作将".concat(1===n?"禁用":"启用","该用户，是否继续？"),{type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var s,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=1===n?0:1,r.next=3,l["l"].toggle({id:a,usable:n});case 3:s=r.sent,c=s.status,o=s.msg,c&&(Object.assign(e,{usable:n}),t.$message.success(o));case 7:case"end":return r.stop()}}),r)})))).catch((function(){t.$message.info("取消成功")}))}}}),o=c,i=a("2877"),u=Object(i["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=user-list.0c96edc0.js.map