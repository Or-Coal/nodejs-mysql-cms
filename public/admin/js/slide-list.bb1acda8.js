(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["slide-list"],{"00b4":function(e,t,r){"use strict";r("ac1f");var a=r("23e7"),n=r("da84"),i=r("c65b"),o=r("e330"),s=r("1626"),l=r("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=n.Error,d=o(/./.test);a({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!s(t))return d(this,e);var r=i(t,this,e);if(null!==r&&!l(r))throw new u("RegExp exec method returned something other than an Object or null");return!!r}})},"04d1":function(e,t,r){var a=r("342f"),n=a.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},"1fab":function(e,t,r){"use strict";r("fb8f")},"4e82":function(e,t,r){"use strict";var a=r("23e7"),n=r("e330"),i=r("59ed"),o=r("7b0b"),s=r("07fa"),l=r("577e"),c=r("d039"),u=r("addb"),d=r("a640"),f=r("04d1"),p=r("d998"),m=r("2d00"),b=r("512ce"),g=[],h=n(g.sort),_=n(g.push),v=c((function(){g.sort(void 0)})),w=c((function(){g.sort(null)})),x=d("sort"),k=!c((function(){if(m)return m<70;if(!(f&&f>3)){if(p)return!0;if(b)return b<603;var e,t,r,a,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)g.push({k:t+a,v:r})}for(g.sort((function(e,t){return t.v-e.v})),a=0;a<g.length;a++)t=g[a].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),y=v||!w||!x||!k,$=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}};a({target:"Array",proto:!0,forced:y},{sort:function(e){void 0!==e&&i(e);var t=o(this);if(k)return void 0===e?h(t):h(t,e);var r,a,n=[],l=s(t);for(a=0;a<l;a++)a in t&&_(n,t[a]);u(n,$(e)),r=n.length,a=0;while(a<r)t[a]=n[a++];while(a<l)delete t[a++];return t}})},"512ce":function(e,t,r){var a=r("342f"),n=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},"843f":function(e,t,r){},"8a35":function(e,t,r){"use strict";r("843f")},"99af":function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),i=r("d039"),o=r("e8b5"),s=r("861d"),l=r("7b0b"),c=r("07fa"),u=r("8418"),d=r("65f0"),f=r("1dde"),p=r("b622"),m=r("2d00"),b=p("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",_=n.TypeError,v=m>=51||!i((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),w=f("concat"),x=function(e){if(!s(e))return!1;var t=e[b];return void 0!==t?!!t:o(e)},k=!v||!w;a({target:"Array",proto:!0,arity:1,forced:k},{concat:function(e){var t,r,a,n,i,o=l(this),s=d(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?o:arguments[t],x(i)){if(n=c(i),f+n>g)throw _(h);for(r=0;r<n;r++,f++)r in i&&u(s,f,i[r])}else{if(f>=g)throw _(h);u(s,f++,i)}return s.length=f,s}})},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),i=r("23cb"),o=r("5926"),s=r("07fa"),l=r("7b0b"),c=r("65f0"),u=r("8418"),d=r("1dde"),f=d("splice"),p=n.TypeError,m=Math.max,b=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,a,n,d,f,_,v=l(this),w=s(v),x=i(e,w),k=arguments.length;if(0===k?r=a=0:1===k?(r=0,a=w-x):(r=k-2,a=b(m(o(t),0),w-x)),w+r-a>g)throw p(h);for(n=c(v,a),d=0;d<a;d++)f=x+d,f in v&&u(n,d,v[f]);if(n.length=a,r<a){for(d=x;d<w-a;d++)f=d+a,_=d+r,f in v?v[_]=v[f]:delete v[_];for(d=w;d>w-a+r;d--)delete v[d-1]}else if(r>a)for(d=w-a;d>x;d--)f=d+a-1,_=d+r-1,f in v?v[_]=v[f]:delete v[_];for(d=0;d<r;d++)v[d+x]=arguments[d+2];return v.length=w-a+r,n}})},addb:function(e,t,r){var a=r("4dae"),n=Math.floor,i=function(e,t){var r=e.length,l=n(r/2);return r<8?o(e,t):s(e,i(a(e,0,l),t),i(a(e,l),t),t)},o=function(e,t){var r,a,n=e.length,i=1;while(i<n){a=i,r=e[i];while(a&&t(e[a-1],r)>0)e[a]=e[--a];a!==i++&&(e[a]=r)}return e},s=function(e,t,r,a){var n=t.length,i=r.length,o=0,s=0;while(o<n||s<i)e[o+s]=o<n&&s<i?a(t[o],r[s])<=0?t[o++]:r[s++]:o<n?t[o++]:r[s++];return e};e.exports=i},d998:function(e,t,r){var a=r("342f");e.exports=/MSIE|Trident/.test(a)},e186:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("轮播图管理")]),r("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.insert_dialog_visible=!0}}},[e._v(" 添加轮播 ")])],1),r("el-table",{attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"id",label:"#",width:"40"}}),r("el-table-column",{attrs:{prop:"title",label:"链接标题"}}),r("el-table-column",{attrs:{prop:"picture",label:"轮播图片",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("el-image",{staticStyle:{width:"150px"},attrs:{src:e.row.picture,fit:"cover"}})]}}])}),r("el-table-column",{attrs:{prop:"url",label:"跳转地址",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{attrs:{href:t.row.url,target:"_blank"}},[r("span",{staticClass:"am-text-xs"},[e._v(e._s(t.row.url))])])]}}])}),r("el-table-column",{attrs:{prop:"target",label:"跳转方式"}}),r("el-table-column",{attrs:{prop:"slide_order",label:"排序数字"}}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:1===t.row.usable?"success":"info"}},[e._v(" "+e._s(1===t.row.usable?"启用":"禁用")+" ")])]}}])}),r("el-table-column",{attrs:{prop:"create_time",label:"添加日期",width:"90"}}),r("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{icon:"el-icon-edit",type:"primary",plain:""},on:{click:function(r){return e.openEditDialog(t.row)}}},[e._v(" 编辑 ")]),r("el-button",{attrs:{icon:"el-icon-switch-button",type:1===t.row.usable?"info":"success",plain:""},on:{click:function(r){return e.handleSwitch(t.row)}}},[e._v(" "+e._s(1===t.row.usable?"禁用":"启用")+" ")]),r("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:""},on:{click:function(r){return e.handleRemove(t.row.id,t.$index)}}},[e._v("删除 ")])]}}])})],1),r("el-dialog",{attrs:{title:"添加轮播图",visible:e.insert_dialog_visible},on:{"update:visible":function(t){e.insert_dialog_visible=t},close:function(t){return e.handleDialogClose("insert_form")}}},[r("el-form",{ref:"insert_form",attrs:{model:e.insert_form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"轮播图片",prop:"picture"}},[r("single-upload",{attrs:{"upload-action":"/upload/common/","remove-action":"/upload/remove/",data:{type:"common"}},model:{value:e.insert_form.picture,callback:function(t){e.$set(e.insert_form,"picture",t)},expression:"insert_form.picture"}})],1),r("el-form-item",{attrs:{label:"标题文字",prop:"title"}},[r("el-input",{attrs:{placeholder:"文字将作为标题，显示在图片上"},model:{value:e.insert_form.title,callback:function(t){e.$set(e.insert_form,"title",t)},expression:"insert_form.title"}})],1),r("el-form-item",{attrs:{label:"链接地址",prop:"url"}},[r("el-input",{attrs:{placeholder:"请输入完整的链接地址"},model:{value:e.insert_form.url,callback:function(t){e.$set(e.insert_form,"url",t)},expression:"insert_form.url"}})],1),r("el-form-item",{attrs:{label:"跳转方式",prop:"target"}},[r("el-radio",{attrs:{label:"_blank"},model:{value:e.insert_form.target,callback:function(t){e.$set(e.insert_form,"target",t)},expression:"insert_form.target"}},[e._v("新窗口跳转")]),r("el-radio",{attrs:{label:"_self"},model:{value:e.insert_form.target,callback:function(t){e.$set(e.insert_form,"target",t)},expression:"insert_form.target"}},[e._v("本窗口跳转")])],1),r("el-form-item",{attrs:{label:"显示排序",prop:"slide_order"}},[r("el-input",{attrs:{placeholder:"请输入数字，数字越小，排序越靠前"},model:{value:e.insert_form.slide_order,callback:function(t){e.$set(e.insert_form,"slide_order",t)},expression:"insert_form.slide_order"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.insert_dialog_visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleInsert}},[e._v("添 加")])],1)],1),r("el-dialog",{attrs:{title:"编辑轮播图",visible:e.edit_dialog_visible},on:{"update:visible":function(t){e.edit_dialog_visible=t},close:function(t){return e.handleDialogClose("edit_form")}}},[r("el-form",{ref:"edit_form",attrs:{model:e.edit_form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"轮播图片",prop:"picture"}},[r("single-upload",{attrs:{"upload-action":"/upload/common/","remove-action":"/upload/remove/",data:{type:"common"}},model:{value:e.edit_form.picture,callback:function(t){e.$set(e.edit_form,"picture",t)},expression:"edit_form.picture"}})],1),r("el-form-item",{attrs:{label:"标题文字",prop:"title"}},[r("el-input",{attrs:{placeholder:"文字将作为标题，显示在图片上"},model:{value:e.edit_form.title,callback:function(t){e.$set(e.edit_form,"title",t)},expression:"edit_form.title"}})],1),r("el-form-item",{attrs:{label:"链接地址",prop:"url"}},[r("el-input",{attrs:{placeholder:"请输入完整的链接地址"},model:{value:e.edit_form.url,callback:function(t){e.$set(e.edit_form,"url",t)},expression:"edit_form.url"}})],1),r("el-form-item",{attrs:{label:"跳转方式",prop:"target"}},[r("el-radio",{attrs:{label:"_blank"},model:{value:e.edit_form.target,callback:function(t){e.$set(e.edit_form,"target",t)},expression:"edit_form.target"}},[e._v("新窗口跳转")]),r("el-radio",{attrs:{label:"_self"},model:{value:e.edit_form.target,callback:function(t){e.$set(e.edit_form,"target",t)},expression:"edit_form.target"}},[e._v("本窗口跳转")])],1),r("el-form-item",{attrs:{label:"显示顺序",prop:"slide_order"}},[r("el-input",{attrs:{placeholder:"请输入数字，数字越小，排序越靠前"},model:{value:e.edit_form.slide_order,callback:function(t){e.$set(e.edit_form,"slide_order",t)},expression:"edit_form.slide_order"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.edit_dialog_visible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("保 存")])],1)],1)],1)},n=[],i=r("5530"),o=r("1da1"),s=(r("4e82"),r("a434"),r("96cf"),r("e359")),l=r("365c"),c={name:"List",components:{SingleUpload:s["a"]},data:function(){return{tableData:[],insert_dialog_visible:!1,insert_form:{picture:"",title:"",url:"http://",target:"_blank",slide_order:""},edit_dialog_visible:!1,current_slide:"",edit_form:{id:"",picture:"",title:"",url:"",target:"_blank",slide_order:""},rules:{picture:[{required:!0,message:"请上传一张轮播图片",trigger:"change"}],title:[{message:"请填写标题文字",trigger:"blur"}],url:[{type:"url",required:!0,message:"请填写完整的链接地址",trigger:"blur"}],target:[{required:!0,message:"请选择一种跳转方式",trigger:"blur"},{type:"enum",enum:["_blank","_self"],message:"请选择合格跳转方式",trigger:"blur"}],slide_order:[{required:!0,message:"请填写显示顺序！",trigger:"blur"},{pattern:/^\d+$/,message:"顺序必须是数字组成！",trigger:"blur"}]}}},created:function(){document.title="轮播图管理",this.loadList()},methods:{loadList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["j"].list();case 2:r=t.sent,a=r.status,r.msg,n=r.data,a&&(e.tableData=n);case 7:case"end":return t.stop()}}),t)})))()},handleInsert:function(){var e=this;this.$refs.insert_form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,l["j"].insert(e.insert_form);case 3:a=t.sent,n=a.status,o=a.msg,s=a.data,n?(e.tableData.push(Object(i["a"])(Object(i["a"])({},e.insert_form),s)),e.tableData.sort((function(e,t){return e.slide_order-t.slide_order})),e.insert_dialog_visible=!1,e.$message.success(o)):e.$message.error(o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},openEditDialog:function(e){this.current_slide=e,this.edit_form=Object(i["a"])({},e),this.edit_dialog_visible=!0},handleEdit:function(){var e=this;this.$refs.edit_form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,l["j"].edit(e.edit_form);case 3:a=t.sent,n=a.status,i=a.msg,a.data,n?(Object.assign(e.current_slide,e.edit_form),e.edit_dialog_visible=!1,e.$message.success(i)):e.$message.error(i);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleRemove:function(e,t){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r.$confirm("此操作将永久删除该轮播图, 是否继续?",{type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l["j"].remove({id:e});case 2:n=a.sent,i=n.status,o=n.msg,i&&(r.tableData.splice(t,1),r.$message.success(o));case 6:case"end":return a.stop()}}),a)})))).catch((function(){r.$message.info("取消成功")}));case 1:case"end":return a.stop()}}),a)})))()},handleSwitch:function(e){var t=this,r=e.id,a=e.usable;this.$confirm("此操作将".concat(1===a?"禁用":"启用","该轮播图，是否继续？"),{type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function n(){var i,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["j"].toggle({id:r,usable:-a});case 2:i=n.sent,o=i.status,s=i.msg,o&&(Object.assign(e,{usable:-a}),t.$message.success(s));case 6:case"end":return n.stop()}}),n)})))).catch((function(){t.$message.info("取消成功")}))},handleDialogClose:function(e){this.$refs[e].resetFields()}}},u=c,d=(r("8a35"),r("2877")),f=Object(d["a"])(u,a,n,!1,null,"c55028b2",null);t["default"]=f.exports},e359:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadAction,"before-upload":e.handleBeforeUpload,data:e.data,headers:e.headers,"on-error":e.handleUploadError,"on-success":e.handleUploadSuccess,"show-file-list":!1}},[e.value?[r("div",{staticClass:"cover",on:{click:function(t){return t.stopPropagation(),e.handleRemove.apply(null,arguments)}}},[r("i",{staticClass:"el-icon-delete avatar-uploader-icon"})]),r("img",{staticClass:"avatar",attrs:{src:e.value}})]:r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],2)},n=[],i=r("1da1"),o=(r("96cf"),r("ac1f"),r("00b4"),r("99af"),r("caad"),r("2532"),r("bc3a")),s=r.n(o),l={name:"single-upload",props:{value:{type:String,default:""},defaultImage:{type:String},uploadAction:{type:String,required:!0},removeAction:{type:String,required:!0},data:{type:Object,default:function(){return{type:"common"}}},headers:{type:Object,default:function(){return{Authorization:"Bearer ".concat(sessionStorage.token)}}}},methods:{handleBeforeUpload:function(e){var t=/^image\/(jpe?g|png)$/,r=t.test(e.type),a=e.size/1024/1024<2;return r||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),r&&a},handleUploadSuccess:function(e,t){this.$emit("success",e),this.$emit("input",e.src)},handleUploadError:function(e,t,r){var a=e.status,n=e.message;switch(a){case 401:this.$message.error("错误:401,Token失效,请重新登录!");break;case 400:n=JSON.parse(n),this.$message.error("错误:400,".concat(n));break;default:this.$message.error("错误:".concat(a,",").concat(n,"!"));break}},handleRemove:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.value.includes(e.defaultImage),r){t.next=7;break}return t.next=4,s.a.post(e.removeAction,{src:e.value});case 4:a=t.sent,n=a.status,n&&e.$message.success("删除成功!");case 7:e.$emit("input","");case 8:case"end":return t.stop()}}),t)})))()}}},c=l,u=(r("1fab"),r("2877")),d=Object(u["a"])(c,a,n,!1,null,null,null);t["a"]=d.exports},fb8f:function(e,t,r){}}]);
//# sourceMappingURL=slide-list.bb1acda8.js.map